<header ng-include="'views/private-nav.html'"></header>
<div class="container">
  <br>
  <br>
  <br>
  <div class="jumbotron">
    <h2>List of Products</h2>
  </div>
  <div class="row marketing">
    <table class='table table-striped table-bordered table-hover table-condensed'>
      <tbody>
        <tr ng-repeat="(key, value) in items">
          <td><span>{{value.name}}</span></td>
          <td>{{value.description}}</td>
          <td class="text-center">
            <button type="button" class="btn btn-warning btn-lg btn-block " data-toggle="modal" data-target="#myModal" ng-click="setTradeProduct(value)">
              Trade
            </button>
          </td>
          <!-- <td><span ng-click="deleteProduct(value.id)" class="glyphicon glyphicon-trash"></span></td> -->
        </tr>
      </tbody>
    </table>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">{{productSelected.name}}</h4>
          </div>
          <div class="modal-body">
            <img class="img-responsive img-rounded center-block" src="http://briansguitars.com/wp-content/uploads/2013/03/PRS-Slider-609x359.png" alt="selected product" />
            <p>
              {{productSelected.description}}
            </p>
            <h3>Select your product</h3>
            <select class="form-control" ng-options='product as product.name for product in myProducts' ng-model="selectedP">
              <!-- <option value="" ng-if="selected">Select something to remove me.</option> -->
            </select>
            <pre>
              {{selectedP.description}}
            </pre>
          </div><!--  item as item.label for item in items track by item.id -->
          <div class="modal-footer" ng-controller="TransferCtrl">
            <button type="button" class="btn btn-default " data-dismiss="modal" >Close</button>
            <button type="button" class="btn btn-primary {{productSelectedDisabled}}" ng-click="trade(selectedP)" >Try deal</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
